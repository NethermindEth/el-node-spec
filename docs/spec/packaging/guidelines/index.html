<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-spec/packaging/guidelines">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Packaging Best Practices | EigenLayer AVS Node specification</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://eigen.nethermind.io/img/nethermind.svg"><meta data-rh="true" name="twitter:image" content="https://eigen.nethermind.io/img/nethermind.svg"><meta data-rh="true" property="og:url" content="https://eigen.nethermind.io/docs/spec/packaging/guidelines"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Packaging Best Practices | EigenLayer AVS Node specification"><meta data-rh="true" name="description" content="- Packaging Best Practices"><meta data-rh="true" property="og:description" content="- Packaging Best Practices"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://eigen.nethermind.io/docs/spec/packaging/guidelines"><link data-rh="true" rel="alternate" href="https://eigen.nethermind.io/docs/spec/packaging/guidelines" hreflang="en"><link data-rh="true" rel="alternate" href="https://eigen.nethermind.io/docs/spec/packaging/guidelines" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ac377c7c.css">
<link rel="preload" href="/assets/js/runtime~main.2c66ee55.js" as="script">
<link rel="preload" href="/assets/js/main.01636d92.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/eigenlayer.png" alt="EigenLayer Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/eigenlayer.png" alt="EigenLayer Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">EigenLayer AVS Node specification</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/NethermindEth/middleware-spec" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/avs-node-specification">AVS Node Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;AVS Node Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/packaging--upgrading">Packaging &amp; Upgrading</a><button aria-label="Toggle the collapsible sidebar category &#x27;Packaging &amp; Upgrading&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/packaging/">Packaging procedure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/packaging/manifest">Manifest file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/packaging/profiles">Profile file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/packaging/reference">Reference package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/spec/packaging/guidelines">Packaging Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/packaging/upgrading">Keeping AVS Software Easily Updatable</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/avs-node-api">AVS Node API</a><button aria-label="Toggle the collapsible sidebar category &#x27;AVS Node API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/metrics">Metrics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Metrics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/plugin">Plugin</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/avs-setup-wizard">AVS Setup Wizard</a><button aria-label="Toggle the collapsible sidebar category &#x27;AVS Setup Wizard&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/keys-management">Keys Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Keys Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/avs-node-specification"><span itemprop="name">AVS Node Specification</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/packaging--upgrading"><span itemprop="name">Packaging &amp; Upgrading</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Packaging Best Practices</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Packaging Best Practices</h1><ul><li><a href="#packaging-best-practices">Packaging Best Practices</a><ul><li><a href="#how-to-handle-docker-images">How to handle docker images</a><ul><li><a href="#tags-usage">Tags usage</a></li><li><a href="#why-docker-image-builds-are-not-supported">Why docker image builds are not supported</a></li></ul></li><li><a href="#avoid-using-container_name">Avoid using <code>container_name</code></a></li><li><a href="#docker-compose-elements-that-should-be-profile-options">Docker Compose elements that should be profile options</a></li><li><a href="#when-to-create-an-additional-profile">When to create an additional profile</a></li><li><a href="#create-a-separate-repository-for-the-avs-package">Create a separate repository for the AVS package</a></li><li><a href="#use-the-hidden-field-of-profiles-options-for-sensitive-information">Use the <code>hidden</code> field of profile&#x27;s options for sensitive information</a></li></ul></li></ul><p>The following represents a set of guidelines, rules, and recommendations on managing and creating the AVS package.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The <a href="/docs/spec/packaging/reference">reference package</a> and the <a href="https://github.com/NethermindEth/mock-avs-pkg" target="_blank" rel="noopener noreferrer">mock-avs-pkg</a>(dummy AVS used for testing purposes) are good examples of how to follow these guidelines.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-handle-docker-images">How to handle docker images<a href="#how-to-handle-docker-images" class="hash-link" aria-label="Direct link to How to handle docker images" title="Direct link to How to handle docker images">​</a></h2><p>The specification <strong>DOES NOT</strong> support docker image builds. You can&#x27;t use the <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#build" target="_blank" rel="noopener noreferrer"><code>build</code></a> field on the <code>docker-compose.yml</code> file. The Compose script <strong>MUST</strong> refer to docker images in a Docker registry. For development purposes, you can use a local docker image.</p><p>An alternative to target the entire docker image name as a profile option is to fix the name but let the tag open for modification. An env variable with a bounded profile option is also recommended in this case.</p><p>Examples of both profile options usage for the full docker image name and only the tag can be found in the <a href="/docs/spec/packaging/reference">reference package</a>. Notice that the name is fixed for the Postgres docker image, but the tag is used as a profile option.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tags-usage">Tags usage<a href="#tags-usage" class="hash-link" aria-label="Direct link to Tags usage" title="Direct link to Tags usage">​</a></h3><p><strong>AVOID</strong> using the default tag <code>latest</code>. This might bring issues among different package versions. You <strong>SHOULD</strong> use unique tags that identify a fixed version of the containerized application you want the user to run.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-docker-image-builds-are-not-supported">Why docker image builds are not supported<a href="#why-docker-image-builds-are-not-supported" class="hash-link" aria-label="Direct link to Why docker image builds are not supported" title="Direct link to Why docker image builds are not supported">​</a></h3><p>The issues around building docker images can be summarized:</p><ul><li><strong>Introduce vulnerabilities and security concerns</strong> to the user’s host machine because <strong>builds could execute arbitrary and potentially malicious code</strong>. Currently, the attack surface is quite extensive as anyone with write access to the AVS Tap repo could add this type of code and change the AVS Node docker build pipeline or Docker Compose, create a git tag and make a release.</li><li>Supporting docker image builds <strong>involves cloning and using the entire repository</strong> where the AVS package lies. This means not only that we are potentially copying a lot of unnecessary data for the user into his/her disk and making the installation process heavier than necessary, but also that we can’t control the usage of good practices around the AVS packaging. If, for example, we would like to enforce creating a separate repository for the AVS package only, it wouldn’t be possible if we allow docker builds.</li><li>Depending on docker builds for the users to use your software <strong>is not a good practice</strong>. An AVS developer will likely push the Docker images to a Docker registry. Maintaining two different ways of using your official Docker Compose script is a burden, as there are differences between using already-built images and building images from a local/remote context. Building the docker image could be helpful for development environments. However, it <strong>is not expensive to build your image</strong> before running your Compose script and target the local image inside it. AVS developers could add a simple <code>docker build</code> command to their build scripts or E2E test setup parts, use an env variable for the <code>image</code> field of the Compose script, and only change the env variable value. This introduces a new problem: which tag to use for the docker image. We are going to cover that in the next section.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="avoid-using-container_name">Avoid using <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#container_name" target="_blank" rel="noopener noreferrer"><code>container_name</code></a><a href="#avoid-using-container_name" class="hash-link" aria-label="Direct link to avoid-using-container_name" title="Direct link to avoid-using-container_name">​</a></h2><p>Using the <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#container_name" target="_blank" rel="noopener noreferrer"><code>container_name</code></a> field of the Docker Compose Specification introduces the risk of name collision between two containers run with different instances of the same <code>docker-compose.yml</code>.</p><p>This issue can be tackled by defining the container name as a profile option. The &#x27;main-container-name&#x27; profile option is used in the <a href="/docs/spec/packaging/reference">reference package</a> for this purpose. This way, the user can use a new container name for different AVS package instances or change the default container name.</p><p>Docker Compose has a smart way of setting up a container name of a Compose service if the <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#container_name" target="_blank" rel="noopener noreferrer"><code>container_name</code></a> field is not provided. You can rely on Compose for this naming.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-compose-elements-that-should-be-profile-options">Docker Compose elements that should be profile options<a href="#docker-compose-elements-that-should-be-profile-options" class="hash-link" aria-label="Direct link to Docker Compose elements that should be profile options" title="Direct link to Docker Compose elements that should be profile options">​</a></h2><p>Some common use cases will benefit from profile options:</p><ul><li><strong>Bind-mount volumes:</strong> This kind of volume usually requires a path inside the host machine to the desired folder or file to bind. Using a default path here will be far from ideal in many cases. We strongly recommend always using an env variable for this path with a profile option. In the <a href="/docs/spec/packaging/reference">reference package</a>, the <code>KEYSTORE_PATH</code> env variable is used for this purpose. Notice the usage of the profile option type <code>path_dir</code> for this env variable. Any path option should be used similarly.</li><li><strong>Container names:</strong> As mentioned above, using the <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#container_name" target="_blank" rel="noopener noreferrer"><code>container_name</code></a> field of the Docker Compose Specification introduces the risk of name collision between two containers run with different instances of the same <code>docker-compose.yml</code>. This issue can be tackled by defining the container name as a profile option like in the <a href="/docs/spec/packaging/reference">reference package</a>. This way, the user can use a new container name for different AVS package instances or change the default container name.</li><li><strong>Docker image names:</strong> Putting any Docker images as profile options is strongly recommended. In the <a href="/docs/spec/packaging/reference">reference package</a>, a <code>validate.re2_regex</code> is provided to validate docker image names. Notice that the name is fixed for the Postgres docker image, but the tag is used as a profile option. This is a recommended practice as well.</li><li><strong>Ports:</strong> Ports are a typical profile option. The&#x27; main-service-port&#x27; is a profile option in the <a href="/docs/spec/packaging/reference">reference package</a>. Notice that the <code>main-service-port</code> is also a <code>target</code> for the <code>monitoring</code> section. Profile options for ports <strong>MUST</strong> to be of type <code>port</code> and have a default value. This allows port collision checks between multiple Nodes running in the same host machine. You <strong>MUST</strong> target the port part of the Host machine. The container port should be fixed, not a profile option (ports are defined as <code>HOST_PORT:CONTAINER_PORT</code>).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-create-an-additional-profile">When to create an additional profile<a href="#when-to-create-an-additional-profile" class="hash-link" aria-label="Direct link to When to create an additional profile" title="Direct link to When to create an additional profile">​</a></h2><p>Suppose you find yourself creating profile options for settings whose values are common within several instances of the AVS Node (different instances of the same AVS Node running on the same network). In that case, chances are these values should be fixed, and you will benefit from creating profiles for combinations of these settings (different networks, Node modes, etc.). In this case, creating an additional profile might allow you to define fewer profile options. Less profile options mean fewer settings to maintain and fewer settings for the user to configure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-separate-repository-for-the-avs-package">Create a separate repository for the AVS package<a href="#create-a-separate-repository-for-the-avs-package" class="hash-link" aria-label="Direct link to Create a separate repository for the AVS package" title="Direct link to Create a separate repository for the AVS package">​</a></h2><p>We <strong>strongly recommend</strong> creating a separate repository (Tap) for the AVS package. This has several benefits:</p><ul><li>The AVS Tap repository and root folder can be listed in a public index in a clean way without anything additional to the AVS package.</li><li>It is easier to restrict access to the Tap repository. For instance, if the AVS package is within the AVS node repository, all the contributors could make changes to the AVS package.</li><li>It doesn’t constrain your AVS Node repository to be public. Although it is recommended to make your AVS Node source code open-source, nothing will stop a developer from making an AVS Node closed (this is often done in the first stages of development). This closed AVS Nodes could have their packages public if they dedicate a separate repository.</li><li>Downloading the AVS package would be very light and fast.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-the-hidden-field-of-profiles-options-for-sensitive-information">Use the <code>hidden</code> field of profile&#x27;s options for sensitive information<a href="#use-the-hidden-field-of-profiles-options-for-sensitive-information" class="hash-link" aria-label="Direct link to use-the-hidden-field-of-profiles-options-for-sensitive-information" title="Direct link to use-the-hidden-field-of-profiles-options-for-sensitive-information">​</a></h2><p>The <code>hidden</code> field of profile&#x27;s options allows you to hide the value of the option in the AVS setup wizard tool. This is a recommended practice for sensitive information. The option keeps the validate and the type field to ensure that the user provides a valid value.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NethermindEth/el-node-spec/edit/main/docs/docs/spec/packaging/guidelines.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/spec/packaging/reference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Reference package</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/spec/packaging/upgrading"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Keeping AVS Software Easily Updatable</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-handle-docker-images" class="table-of-contents__link toc-highlight">How to handle docker images</a><ul><li><a href="#tags-usage" class="table-of-contents__link toc-highlight">Tags usage</a></li><li><a href="#why-docker-image-builds-are-not-supported" class="table-of-contents__link toc-highlight">Why docker image builds are not supported</a></li></ul></li><li><a href="#avoid-using-container_name" class="table-of-contents__link toc-highlight">Avoid using <code>container_name</code></a></li><li><a href="#docker-compose-elements-that-should-be-profile-options" class="table-of-contents__link toc-highlight">Docker Compose elements that should be profile options</a></li><li><a href="#when-to-create-an-additional-profile" class="table-of-contents__link toc-highlight">When to create an additional profile</a></li><li><a href="#create-a-separate-repository-for-the-avs-package" class="table-of-contents__link toc-highlight">Create a separate repository for the AVS package</a></li><li><a href="#use-the-hidden-field-of-profiles-options-for-sensitive-information" class="table-of-contents__link toc-highlight">Use the <code>hidden</code> field of profile&#39;s options for sensitive information</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/nethermindeth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/NethermindEth/middleware-spec" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Layr Labs Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2c66ee55.js"></script>
<script src="/assets/js/main.01636d92.js"></script>
</body>
</html>